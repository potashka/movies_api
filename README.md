# Требования к проекту
1.	Структура API должна быть понятна пользователям и задокументирована.
2.	Код проекта должен быть аккуратным и без дублирования.
3.	Время ответа сервиса не превышает 200 мс.
4.	В сервисе решена проблема 10к соединений.

Требования к объёму данных
•	200 000+ фильмов.
•	100+ жанров.


## Создать репозиторий, дать в него доступы
Создать репозиторий для проекта на основе шаблона. 
 
## Создать базовую структуру приложения
## Создать базовые файлы и папки по уроку FastAPI, включить туда requirements.txt.
 			
Настроить докерфайл и докеркомпоуз
Нужен Dockerfile для билда бекенда для API. Также нужно создать (или адаптировать созданные ранее) docker-compose, чтобы поднимались все сервисы разом.

## Создать модели для фильмов и связанных данных
Создать модели, прописав правильные типы данных для:
•	фильмов,
•	жанров,
•	актеров, сценаристов, режиссеров.

## Написать сервис для получения информации о фильмах
Добавить эндпоинты, которые обращаются к Elasticsearch (используя драйвер) и возвращает информацию о фильмах – по одному или списком.
При запросе списком учитывать параметры фильтрации и сортировки.
Доработать ETL для записи в ES данных жанров
Добавить новый ETL пайплайн, в котором создается и заполняется индекс genres из всех жанров, которые есть в фильмах.
Доработать ETL для записи в ES данных персоналий
Добавить новый ETL пайплайн, в котором создается и заполняется индекс persons из всех людей, которые есть в фильмах.
Написать сервисы для получения информации об персоналиях и жанрах
Добавить эндпоинты, которые обращаются к Elasticsearch и возвращает информацию о персоналиях и жанрах - по одному или списком.
При запросе списком учитывать параметры фильтрации и сортировки.
Кеширование данных в Redis
Кешировать ответы ручек, запрошенных с одинаковыми параметрами, чтобы не ходить лишний 


## Структура:
```
movies_api/
├── .env.example
├── docker-compose.yml
├── Dockerfile
├── requirements.txt
└── src/
    ├── main.py
    ├── api/
    │   └── v1/
    │       ├── films.py
    │       ├── genres.py
    │       └── persons.py
    ├── core/
    │   ├── config.py
    │   └── logger.py
    ├── db/
    │   ├── elastic.py
    │   └── redis.py
    ├── models/
    │   ├── film.py
    │   ├── genre.py
    │   └── person.py
    └── services/
        ├── film.py
        ├── genre.py
        └── person.py
```

### Тестовый запуск Swagger

DOCS_ONLY=true uvicorn src.main:app --reload